{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearchTermChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addPerson","onSubmit","type","Person","id","name","number","handleDelete","onClick","Persons","persons","filter","person","toLowerCase","includes","map","Notification","message","msg","success","classes","className","baseurl","axios","get","then","res","data","newPerson","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","useEffect","personsService","initialPersons","resetForm","flush","setTimeout","updatePerson","updatedPerson","catch","err","response","error","p","e","target","preventDefault","newPersonObject","some","window","confirm","find","returnedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13b24420.chunk.js","sourcesContent":["const Filter = ({ searchTerm, handleSearchTermChange }) => (\n  <div>\n    search: <input value={searchTerm} onChange={handleSearchTermChange} />\n  </div>\n);\n\nexport default Filter;\n","const PersonForm = ({\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n  addPerson,\n}) => (\n  <form onSubmit={addPerson}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      phone: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","const Person = ({ id, name, number, handleDelete }) => (\n  <li>\n    {name} {number}\n    <button onClick={() => handleDelete(id)}>delete</button>\n  </li>\n);\n\nexport default Person;\n","import Person from './Person';\n\nconst Persons = ({ persons, searchTerm, handleDelete }) => (\n  <>\n    <h2>Numbers</h2>\n    <ul>\n      {persons\n        .filter((person) => person.name.toLowerCase().includes(searchTerm))\n        .map(({ name, number, id }) => (\n          <Person\n            key={name}\n            name={name}\n            number={number}\n            handleDelete={handleDelete}\n            id={id}\n          />\n        ))}\n    </ul>\n  </>\n);\n\nexport default Persons;\n","const Notification = ({ message: {msg, success} }) => {\n  if (!msg) return null;\n\n  const result = success ? 'success' : 'error';\n  const classes = `notification ${result}`\n\n  return (\n    <div className={classes}>\n      {msg}\n    </div>\n  )\n}\n\nexport default Notification;\n","import axios from 'axios';\nconst baseurl = '/api/persons';\n\nconst getAtll = () => {\n  const req = axios.get(baseurl);\n  return req.then((res) => res.data);\n};\n\nconst create = (newPerson) => {\n  const req = axios.post(baseurl, newPerson);\n  return req.then((res) => res.data);\n};\n\nconst remove = (id) => {\n  const req = axios.delete(`${baseurl}/${id}`);\n  return req.then((res) => res.data);\n};\n\nconst update = (id, newPerson) => {\n  const req = axios.put(`${baseurl}/${id}`, newPerson);\n  return req.then((res) => res.data);\n};\n\nexport default {\n  getAtll,\n  create,\n  remove,\n  update,\n};\n","import React, { useState, useEffect } from 'react';\nimport './index.css';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport personsService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [message, setMessage] = useState({});\n\n  useEffect(() => {\n    personsService\n      .getAtll()\n      .then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const handleNameChange = (e) => setNewName(e.target.value);\n  const handleNumberChange = (e) => setNewNumber(e.target.value);\n  const handleSearchTermChange = (e) => setSearchTerm(e.target.value);\n\n  const alreadyInPhonebook = (name) =>\n    persons.some((person) => person.name === name);\n\n  const resetForm = () => {\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const flush = (msg, success = true) => {\n    setMessage({\n      msg,\n      success,\n    });\n    setTimeout(() => setMessage({}), 5000);\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    const newPersonObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (alreadyInPhonebook(newName)) {\n      const message = `${newName} is already added to the phonebook, replace the old number with the new one`;\n\n      if (window.confirm(message)) {\n        const person = persons.find((p) => p.name === newName);\n        updatePerson(person.id, newPersonObject);\n        return;\n      } else {\n        return;\n      }\n    }\n\n    personsService\n      .create(newPersonObject)\n      .then((returnedPerson) => {\n        setPersons([...persons, returnedPerson]);\n        resetForm();\n        flush(\n          `${returnedPerson.name} has been secusfully added to the phonebook`\n        );\n      })\n      .catch((err) => {\n        flush(err.response.data.error, false);\n      });\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n    if (!window.confirm(`delete ${person.name}?`)) return;\n\n    personsService.remove(id).then(() => {\n      setPersons(persons.filter((person) => person.id !== id));\n      flush(`${person.name} has been successfully deleted from the phonebook`);\n    });\n  };\n\n  const updatePerson = (id, newPerson) => {\n    personsService\n      .update(id, newPerson)\n      .then((updatedPerson) => {\n        setPersons(\n          persons.map((person) => (person.id === id ? updatedPerson : person))\n        );\n        resetForm();\n        flush(`${updatedPerson.name} has been updated`);\n      })\n      .catch((err) => {\n        resetForm();\n\n        if (err.response.data.error) {\n          flush(err.response.data.error);\n        }\n\n        flush(`${newPerson.name} has already been deleted`, false);\n        setPersons(persons.filter((p) => p.id !== id));\n      });\n  };\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter\n        searchTerm={searchTerm}\n        handleSearchTermChange={handleSearchTermChange}\n      />\n\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n\n      <Persons\n        persons={persons}\n        searchTerm={searchTerm}\n        handleDelete={deletePerson}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}